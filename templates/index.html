<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Invoice & PO Matching Tool</title>
    <script src="/static/tailwind.js"></script>
    <link rel="icon" type="image/png" href="/static/invo-logo.png">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/styles.css">
    
</head>
<body class="bg-slate-50 text-slate-800">

    <div class="container mx-auto p-4 sm:p-6 md:p-8 max-w-5xl">

        <header class="text-center mb-10">
            <div style=" display: flex;flex-direction: column;align-items: center;justify-content: center;gap: 7px;" ><div style="width: 46px;height: 46px;"><svg  viewBox="0 0 1024 1024" class="icon"  version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M512 71.7L135.84 259.78V424.8c0 206.25 116.53 394.8 301 487.04L512 949.41l75.16-37.58c184.48-92.24 301-280.79 301-487.04V259.78L512 71.7z m303.02 353.09c0 94.82-27.81 184.59-77.69 260.04l-53.44-53.44c29.67-37.42 47.39-84.74 47.39-136.21 0-121.19-98.24-219.43-219.43-219.43S292.42 374 292.42 495.19s98.24 219.43 219.43 219.43c43.29 0 83.65-12.54 117.65-34.18l62.48 62.48c-38.32 41.8-84.63 77.05-137.53 103.5L512 867.63l-42.45-21.23c-160.73-80.36-260.57-241.92-260.57-421.61V304.98L512 153.47l303.02 151.51v119.81zM511.85 641.48c-80.66 0-146.29-65.62-146.29-146.29S431.19 348.9 511.85 348.9s146.29 65.62 146.29 146.29-65.63 146.29-146.29 146.29z" fill="currentColor" /></svg></div><div><h1 class="text-3xl md:text-4xl font-bold text-slate-900">Invoice & PO Matching Tool</h1></div></div>
            <p class="text-md text-slate-600 mt-2">Upload your documents to automatically verify and match key information.</p>
        </header>

        <div class="bg-white p-6 md:p-8 rounded-2xl shadow-lg mb-10">
            <form id="upload-form" class="space-y-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                    <div id="invoice-upload-area">
                        <label class="block text-sm font-semibold text-slate-700 mb-2">
                            Step 1: Upload Invoice
                        </label>
                        <div id="invoice-drop-zone" class="file-drop-zone mt-1 flex flex-col items-center justify-center p-6 border-2 border-slate-300 border-dashed rounded-lg transition-colors duration-300 h-full">
                            <div id="invoice-empty-state" class="text-center">
                                
                                <svg class="mx-auto h-12 w-12 text-slate-400" viewBox="0 0 1024 1024" class="icon"  version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M829.06 73.14h-6.48c-30.41 0-58.57 17.11-75.34 45.75-6.12 10.46-22.29 11.71-29.96 2.43-25.52-31.07-59.41-48.18-95.64-48.18-35.98 0-69.86 17.11-95.41 48.18-6.98 8.5-21.25 8.52-28.27-0.02-25.55-31.05-59.43-48.16-95.41-48.16s-69.86 17.11-95.41 48.18c-7.66 9.36-23.82 8.05-29.95-2.43-16.8-28.64-44.96-45.75-75.36-45.75h-7.23c-46.89 0-85.05 38.16-85.05 85.05V865.8c0 46.89 38.16 85.05 85.05 85.05h7.23c30.39 0 58.55-17.11 75.38-45.79 6.07-10.45 22.23-11.79 29.93-2.38 25.55 31.05 59.43 48.16 95.41 48.16s69.86-17.11 95.41-48.18c7.02-8.52 21.29-8.5 28.27 0.02 25.55 31.05 59.43 48.16 95.66 48.16 35.98 0 69.88-17.11 95.38-48.14 7.73-9.36 23.89-8 29.96 2.36 16.79 28.68 44.95 45.79 75.36 45.79h6.48c46.89 0 85.05-38.16 85.05-85.05V158.2c0-46.9-38.17-85.06-85.06-85.06z m11.91 792.66c0 6.57-5.34 11.91-11.91 11.91h-6.48c-6.14 0-10.91-7.34-12.23-9.61-16.36-27.91-46.61-45.25-78.93-45.25-27.43 0-53.16 12.16-70.64 33.39-6.59 8.02-20.41 21.46-39.14 21.46-18.48 0-32.32-13.46-38.91-21.46-34.84-42.45-106.39-42.46-141.27-0.02-6.59 8.02-20.43 21.48-38.91 21.48-18.48 0-32.32-13.46-38.91-21.46-17.43-21.23-43.18-33.39-70.62-33.39-32.36 0-62.61 17.36-78.93 45.25-1.32 2.25-6.11 9.61-12.25 9.61h-7.23c-6.57 0-11.91-5.34-11.91-11.91V158.2c0-6.57 5.34-11.91 11.91-11.91h7.23c6.14 0 10.93 7.36 12.23 9.57 16.34 27.93 46.59 45.29 78.95 45.29 27.45 0 53.2-12.16 70.62-33.38 6.59-8.02 20.43-21.48 38.91-21.48 18.48 0 32.32 13.46 38.91 21.46 34.88 42.48 106.43 42.43 141.27 0.02 6.59-8.02 20.43-21.48 39.16-21.48 18.48 0 32.3 13.45 38.91 21.5 17.46 21.2 43.2 33.36 70.62 33.36 32.32 0 62.57-17.34 78.95-45.29 1.3-2.23 6.07-9.57 12.21-9.57h6.48c6.57 0 11.91 5.34 11.91 11.91v707.6z" fill="currentColor" /><path d="M255.93 548.66h365.71v73.14H255.93zM255.92 694.93h511.82v73.14H255.92zM621.54 329.23h58l-83.85 83.86 51.71 51.71 83.86-83.85v58h73.14V256.09H621.54z" fill="currentColor" /></svg>
                                <div class="mt-4 flex text-sm text-slate-600">
                                    <label for="invoice-file" class="relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none">
                                        <span>Upload a file</span>
                                        <input id="invoice-file" name="invoice_file" type="file" class="sr-only" accept=".pdf,.png,.jpg,.jpeg" required>
                                    </label>
                                    <p class="pl-1">or drag and drop</p>
                                </div>
                                <p class="text-xs text-slate-500 mt-1">PDF, PNG, JPG up to 10MB</p>
                            </div>
                            <div id="invoice-selected-state" class="hidden w-full text-center"></div>
                        </div>
                    </div>
                    <div id="po-upload-area">
                        <label class="block text-sm font-semibold text-slate-700 mb-2">
                             Step 2: Upload Purchase Order
                        </label>
                         <div id="po-drop-zone" class="file-drop-zone mt-1 flex flex-col items-center justify-center p-6 border-2 border-slate-300 border-dashed rounded-lg transition-colors duration-300 h-full">
                             <div id="po-empty-state" class="text-center">
                                <svg class="mx-auto h-12 w-12 text-slate-400" viewBox="0 0 1024 1024" class="icon"  version="1.1" xmlns="http://www.w3.org/2000/svg"><path d="M829.06 73.14h-6.48c-30.41 0-58.57 17.11-75.34 45.75-6.16 10.41-22.29 11.73-29.96 2.43-25.52-31.07-59.41-48.18-95.64-48.18-35.98 0-69.86 17.11-95.41 48.18-6.98 8.48-21.25 8.54-28.27-0.02-25.55-31.05-59.43-48.16-95.41-48.16s-69.86 17.11-95.41 48.18c-7.66 9.38-23.79 8.09-29.95-2.43-16.8-28.64-44.96-45.75-75.36-45.75h-7.23c-46.89 0-85.05 38.16-85.05 85.05V865.8c0 46.89 38.16 85.05 85.05 85.05h7.23c30.39 0 58.55-17.11 75.38-45.79 6.07-10.43 22.23-11.79 29.93-2.38 25.55 31.05 59.43 48.16 95.41 48.16s69.86-17.11 95.41-48.18c7.02-8.52 21.29-8.5 28.27 0.02 25.55 31.05 59.43 48.16 95.66 48.16 35.98 0 69.88-17.11 95.38-48.14 7.73-9.34 23.89-8 29.96 2.36 16.79 28.68 44.95 45.79 75.36 45.79h6.48c46.89 0 85.05-38.16 85.05-85.05V158.2c0-46.9-38.17-85.06-85.06-85.06z m11.91 792.66c0 6.57-5.34 11.91-11.91 11.91h-6.48c-6.14 0-10.91-7.34-12.23-9.61-16.36-27.91-46.61-45.25-78.93-45.25-27.43 0-53.16 12.16-70.64 33.39-6.59 8.02-20.41 21.46-39.14 21.46-18.48 0-32.32-13.46-38.91-21.46-34.84-42.45-106.39-42.46-141.27-0.02-6.59 8.02-20.43 21.48-38.91 21.48s-32.32-13.46-38.91-21.46c-17.43-21.23-43.18-33.39-70.62-33.39-32.36 0-62.61 17.36-78.93 45.25-1.32 2.25-6.11 9.61-12.25 9.61h-7.23c-6.57 0-11.91-5.34-11.91-11.91V158.2c0-6.57 5.34-11.91 11.91-11.91h7.23c6.14 0 10.93 7.36 12.23 9.57 16.34 27.93 46.59 45.29 78.95 45.29 27.45 0 53.2-12.16 70.62-33.38 6.59-8.02 20.43-21.48 38.91-21.48s32.32 13.46 38.91 21.46c34.88 42.48 106.43 42.43 141.27 0.02 6.59-8.02 20.43-21.48 39.16-21.48 18.48 0 32.3 13.45 38.91 21.5 17.46 21.2 43.2 33.36 70.62 33.36 32.32 0 62.57-17.34 78.95-45.29 1.3-2.23 6.07-9.57 12.21-9.57h6.48c6.57 0 11.91 5.34 11.91 11.91v707.6z" fill="currentColor" /><path d="M255.83 365.46h512v73.14h-512zM255.74 548.2h365.71v73.38H255.74z" fill="currentColor" /></svg>
                                <div class="mt-4 flex text-sm text-slate-600">
                                    <label for="po-file" class="relative cursor-pointer bg-white rounded-md font-medium text-indigo-600 hover:text-indigo-500 focus-within:outline-none">
                                        <span>Upload a file</span>
                                        <input id="po-file" name="po_file" type="file" class="sr-only" accept=".pdf,.png,.jpg,.jpeg" required>
                                    </label>
                                    <p class="pl-1">or drag and drop</p>
                                </div>
                                <p class="text-xs text-slate-500 mt-1">PDF, PNG, JPG up to 10MB</p>
                            </div>
                             <div id="po-selected-state" class="hidden w-full text-center"></div>
                        </div>
                    </div>
                </div>
                <div class="pt-2 text-center text-xs text-slate-500">
                    <p><strong>Note:</strong> For best results, please use high-quality, clear documents.</p>
                </div>
                <div>
                    <button type="submit" id="submit-button" class="w-full flex items-center justify-center py-3 px-4 border border-transparent rounded-lg shadow-sm text-base font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed">
                        <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"></path>
                        </svg>
                        Step 3: Compare & Match Documents
                    </button>
                </div>
            </form>
        </div>

        <div id="results-section" class="hidden">
            <h2 class="text-2xl font-bold text-slate-900 mb-4">Comparison Result</h2>
            <div id="results-container" class="bg-white p-6 md:p-8 rounded-2xl shadow-lg">
                <div id="loading-spinner" class="flex flex-col items-center justify-center space-y-4">
                    <div class="spinner"></div>
                    <p class="text-slate-600 animate-pulse">Analyzing documents, please wait...</p>
                </div>
                <div id="result-content" class="opacity-0 transition-opacity duration-500"></div>
            </div>
        </div>
        
        <div id="history-section" class="mt-12">
             <h2 class="text-2xl font-bold text-slate-900 ">Comparison History</h2>
             <div class="bg-white rounded-2xl shadow-lg overflow-hidden">
                 <div id="history-container">
                     <p class="text-slate-500 text-center p-8">No history yet. Run a comparison to see results here.</p>
                 </div>
             </div>
        </div>

    </div>

    <div id="toast" class="toast"></div>

<script src="/static/InvScr.js"></script>
</body>
</html>